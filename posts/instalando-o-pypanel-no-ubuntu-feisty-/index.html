<!DOCTYPE html>
<html lang="en">

<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Og Maciel's Personal Site.">
<meta name="author" content="Og Maciel">
<meta name="generator" content="Hugo">
<meta name="theme-color" content="#563d7c">

<title>Instalando o PyPanel no Ubuntu Feisty</title>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">




<style>
  .bd-placeholder-img {
    font-size: 1.125rem;
    text-anchor: middle;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  @media (min-width: 768px) {
    .bd-placeholder-img-lg {
      font-size: 3.5rem;
    }
  }
</style>

<link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">

<link href="/css/blog.css" rel="stylesheet"></head>

<body class="bg-light">
    <div class="container"><header class="blog-header py-3">
    <div class="row flex-nowrap justify-content-between align-items-center">
      <div class="col-4 pt-1">
        <a class="text-muted" href="/posts">Archives</a>
      </div>
      <div class="col-4 text-center">
        <a class="blog-header-logo text-dark" href="https://omaciel.github.io/">Home</a>
      </div>
      <div class="col-4 d-flex justify-content-end">
        <div class="col-4 pt-1">
            <a class="text-muted" href="/books">Books</a>
        </div>
      </div>
    </div>
</header>


<main role="main" class="container">
    <div class="row justify-content-md-center">
      <div class="col-md-9">
  
            <div class="blog-post">
            <h2 class="blog-post-title">Instalando o PyPanel no Ubuntu Feisty</h2>
            <p class="blog-post-meta">Feb 10, 2007
                </p>

            
            <article><p>Acabei de instalar o Ubuntu Feisty Herd 3 (versao ainda em
desenvolvimento; apesar de estar rodando redondinho aqui, recomendo que
nao atualizem ate' a versao final ser lancada oficialmente) no meu
computador, e ja' de imediato instalei o
<a href="http://icculus.org/openbox/">OpenBox</a>.Â  Para quem gosta de um
gerenciador de janelas bem &ldquo;leve&rdquo; e sem frescuras, eu realmente
recomendo.</p>
<p>Mas como eu geralmente tenho 10 desktops virtuais, e uso programas que
enviam notificacoes (por exemplo, quando alguem te manda uma mensagem de
chat, mas voce esta' em outro terminal checando emails), sinto a
necessidade de ter uma area de notificacao para estes programas.Â  De
todos os paineis (leia barra) que eu conheco, o
<a href="http://pypanel.sourceforge.net/">PyPanel</a> e' o que mais me agrada.Â 
Porem, faze-lo funcionar no Ubuntu nao e' uma coisa muito direta, e
requere um pouco de &ldquo;hacking&rdquo;.Â  Existem varias fontes de informacao na
net, algumas indicando que voce remova os programas instalados pelo
gerenciador de pacotes (synaptic ou aptitude), e compile voce mesmo a
fonte.Â  Mas desta vez decidi dar uma colher de cha' para o aptitude, e
decidi averiguar mais a fundo.</p>
<p>Logo depois de adicionar os repositorios universe e multiverse aos meus
repositorios (<a href="http://wiki.ubuntu-br.org/GerenciamentoDePacotes">saiba
como</a>), e depois de
instalar o driver do nVidia (<a href="http://wiki.ubuntu-br.org/InstalandoNvidia">saiba
como</a>), instalei os
seguintes programas:</p>
<ul>
<li>libimlib2</li>
<li>libimlib2-dev</li>
<li>openbox</li>
<li>openbox-themes</li>
<li>pypanel</li>
</ul>
<p>O legal de instalar o openbox-themes e' que &ldquo;ganhei&rdquo; o
<a href="http://tr.openmonkey.com/pages/obconf/">obconf</a> de bonus! ;)Â  O obconf
te permite modificar temas, entre outras coisas, do OpenBox.</p>
<p>Sai entao do Gnome e escolhi o OpenBox como minha sessao padrao.Â 
Digitei minha senha na tela de log in e&hellip; pronto!Â  Na fracao de 1
segundo (fracao <strong>MESMO</strong>!) eu ja' estava rodando o OpenBox!</p>
<p>Depois vou adicionar mais detalhes sobre como modificar o OpenBox para
obter um sistema mais personalizado, como adicionar um papel de fundo,
atalhos de teclado, etc.Â  Mas o pypanel e' a bola da vez.</p>
<p>Executando pelo console o pypanel me mostrou o seguinte erro:</p>
<blockquote>
<p><a href="mailto:omaciel@gorgonzola">omaciel@gorgonzola</a>:~$ pypanel Traceback (most recent call last):
File &ldquo;/usr/bin/pypanel&rdquo;, line 893, in &lt;module&gt; from Xlib import X,
display, error, Xatom, Xutil File
&ldquo;/var/lib/python-support/python2.5/Xlib/display.py&rdquo;, line 30, in
&lt;module&gt; import protocol.display File
&ldquo;/var/lib/python-support/python2.5/Xlib/protocol/display.py&rdquo;, line 751
SyntaxError: Non-ASCII character &lsquo;xf6&rsquo; in file
/var/lib/python-support/python2.5/Xlib/protocol/display.py on line
750, but no encoding declared; see
<a href="http://www.python.org/peps/pep-0263.html">http://www.python.org/peps/pep-0263.html</a> for details</p>
</blockquote>
<p>A palavra chave para mim foi o &ldquo;Non-ASCII character na linha 750.Â 
Abrindo o arquivo
/var/lib/python-support/python2.5/Xlib/protocol/display.py e checando a
linha 750 me mostrou o seguinte:</p>
<blockquote>
<p># Bug reported by Ilpo NyyssÃ¶nen</p>
</blockquote>
<p>O problema esta' na letra <strong>Ã¶</strong>.Â  Como eu estava com pressa,
simplesmente mudei a letra para um o &ldquo;normal&rdquo;, salvei o arquivo, e
executei novamente o pypanel:</p>
<blockquote>
<p><a href="mailto:omaciel@gorgonzola">omaciel@gorgonzola</a>:~$ Traceback (most recent call last): File
&ldquo;/usr/bin/pypanel&rdquo;, line 957, in &lt;module&gt; PyPanel(display.Display())
File &ldquo;/var/lib/python-support/python2.5/Xlib/display.py&rdquo;, line 80, in
__init__ self.display = _BaseDisplay(display) File
&ldquo;/var/lib/python-support/python2.5/Xlib/display.py&rdquo;, line 67, in
__init__ apply(protocol.display.Display.__init__, (self, ) +
args, keys) File
&ldquo;/var/lib/python-support/python2.5/Xlib/protocol/display.py&rdquo;, line
123, in __init__ self.default_screen = min(self.default_screen,
len(self.info.roots) - 1) File
&ldquo;/var/lib/python-support/python2.5/Xlib/protocol/rq.py&rdquo;, line 1371, in
__getattr__ raise AttributeError(attr) AttributeError: roots</p>
</blockquote>
<p>Caramba!!!Â  Foi ai' que me lembrei de ter visto ha' algum tempo uma
mensagem na net falando de um problema de tamanho de buffer neste mesmo
arquivo, mas do python2.5.Â  Me lembrei que o tamanho reservado estava
como 2048, mas precisava ser o dobro, 4096.Â  Mais uma vez abri o mesmo
arquivo e procurei pelo numero 2048, e encontrei a linha abaixo:</p>
<blockquote>
<p>recv = self.socket.recv(2048)</p>
</blockquote>
<p>Como havia dito acima, editei esta linha, substituindo 2048 por 4096,
salvei o arquivo, e finalmente consegui executar o pypanel.</p>
<p><a href="http://farm1.static.flickr.com/163/385691397_00104ffd4e_b.jpg"><img src="http://farm1.static.flickr.com/163/385691397_00104ffd4e.jpg" alt="openbox"></a></p>
<p>Nao podia faltar um screenshot da primeira vez usando a combinacao
Ubuntu Feisty + Openbox + Pypanel.Â  Logo, logo sai mais noticias&hellip; ;)</p>
</article>
  
          
          <div class="mb-4 p-5">
            <div class="card">
              <h5 class="card-header m-0">Tags</h5>
              <div class=" card-body">
                
                
                <a href="/tags/portuguese" class="btn btn-dark btn-rounded mb-2">portuguese</a>
                
                
              </div>
              </a>
            </div>

            <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "journalofanopensourcee" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

          </div>
            </div>
        </div>
    </div>
</main>


    
    </div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
</body><footer class="blog-footer">
    <p>Theme built by <a href="https://twitter.com/OgMaciel">@OgMaciel</a>.</p>
    <p>
      <a href="#">Back to top</a>
    </p>
  </footer>
</html>